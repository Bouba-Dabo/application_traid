<svg xmlns="http://www.w3.org/2000/svg" width="900" height="380" viewBox="0 0 900 380">
  <style>
    .box{fill:#ffffff;stroke:#0f1724;stroke-width:1.5;rx:8;}
    .module{fill:#f8fafc;stroke:#0f1724;stroke-width:1;}
    .text{font-family:Inter, Arial, sans-serif;font-size:14px;fill:#0f1724}
    .label{font-family:Inter, Arial, sans-serif;font-size:13px;fill:#374151}
    .arrow{stroke:#0f1724;stroke-width:1.5;marker-end:url(#arrow)}
  </style>
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="8" refX="9" refY="4" orient="auto">
      <path d="M0,0 L10,4 L0,8 z" fill="#0f1724"/>
    </marker>
  </defs>

  <!-- Browser -->
  <rect x="30" y="30" width="160" height="80" rx="10" class="box"/>
  <text x="110" y="60" text-anchor="middle" class="text">Navigateur</text>
  <text x="110" y="78" text-anchor="middle" class="label">(Utilisateur)</text>

  <!-- Streamlit App -->
  <rect x="230" y="20" width="240" height="100" rx="10" class="box"/>
  <text x="350" y="48" text-anchor="middle" class="text">Streamlit</text>
  <text x="350" y="68" text-anchor="middle" class="label">app/main.py (UI)</text>

  <!-- Modules group -->
  <rect x="500" y="10" width="360" height="160" rx="12" class="module"/>
  <text x="680" y="32" text-anchor="middle" class="text">Modules internes</text>
  <text x="620" y="60" class="label">app/finance.py — Données &amp; indicateurs</text>
  <text x="760" y="80" class="label">app/dsl_engine.py — Règles</text>
  <text x="620" y="100" class="label">app/news.py — RSS parsing</text>
  <text x="760" y="120" class="label">app/db.py — SQLite</text>

  <!-- External services -->
  <rect x="230" y="160" width="240" height="80" rx="10" class="box"/>
  <text x="350" y="190" text-anchor="middle" class="text">Services externes</text>
  <text x="350" y="210" text-anchor="middle" class="label">yfinance, Flux RSS (Google News, Le Monde...)</text>

  <!-- DB -->
  <rect x="500" y="190" width="160" height="80" rx="8" class="box"/>
  <text x="580" y="217" text-anchor="middle" class="text">Base locale</text>
  <text x="580" y="235" text-anchor="middle" class="label">SQLite (data/traid.db)</text>

  <!-- Arrows -->
  <path d="M190,70 L230,70" class="arrow" />
  <path d="M470,70 L500,70" class="arrow" />

  <path d="M350,120 L350,160" class="arrow" />
  <path d="M470,200 L500,200" class="arrow" />

  <path d="M740,170 L740,190" class="arrow" />
  <path d="M640,170 L640,190" class="arrow" />

  <!-- Labels on arrows -->
  <text x="265" y="58" class="label">HTTP / WebSocket</text>
  <text x="350" y="145" text-anchor="middle" class="label">Appels modules (fetch_data, compute_indicators...)</text>
  <text x="400" y="185" class="label">Requêtes réseau (yfinance / RSS)</text>
  <text x="560" y="230" class="label">Persistance analyses</text>

  <!-- Footer note -->
  <text x="450" y="360" text-anchor="middle" class="label">Schéma d'architecture simplifié — interactions principales</text>
</svg>
